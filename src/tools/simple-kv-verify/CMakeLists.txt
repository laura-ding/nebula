if (ENABLE_ONLY_SHARED)
    nebula_add_executable(
        NAME
            simple_kv_verify
        SOURCES
            SimpleKVVerifyTool.cpp
        LIBRARIES
            storage_client_lib
            storage_service_handler_lib
            meta_client_lib
            gflags_man_lib
            wal_lib
            raftex_lib
            kvstore_lib
            storage_thrift_lib
            meta_thrift_lib
            raftex_thrift_lib
            common_thrift_lib
            thrift_lib
            dataman_lib
            schema_lib
            filter_lib
            thread_lib
            time_lib
            fs_lib
            network_lib
            base_lib
            stats_lib
            kvstore_storage_utils_lib
            ${ROCKSDB_LIBRARIES}
            ${THRIFT_LIBRARIES}
            wangle
            gtest
    )
else()
    nebula_add_executable(
        NAME
            simple_kv_verify
        SOURCES
            SimpleKVVerifyTool.cpp
        OBJECTS
            $<TARGET_OBJECTS:storage_client_obj>
            $<TARGET_OBJECTS:storage_service_handler_obj>
            $<TARGET_OBJECTS:meta_client_obj>
            $<TARGET_OBJECTS:gflags_man_obj>
            $<TARGET_OBJECTS:wal_obj>
            $<TARGET_OBJECTS:raftex_obj>
            $<TARGET_OBJECTS:kvstore_obj>
            $<TARGET_OBJECTS:storage_thrift_obj>
            $<TARGET_OBJECTS:meta_thrift_obj>
            $<TARGET_OBJECTS:raftex_thrift_obj>
            $<TARGET_OBJECTS:common_thrift_obj>
            $<TARGET_OBJECTS:thrift_obj>
            $<TARGET_OBJECTS:dataman_obj>
            $<TARGET_OBJECTS:schema_obj>
            $<TARGET_OBJECTS:filter_obj>
            $<TARGET_OBJECTS:thread_obj>
            $<TARGET_OBJECTS:time_obj>
            $<TARGET_OBJECTS:fs_obj>
            $<TARGET_OBJECTS:network_obj>
            $<TARGET_OBJECTS:base_obj>
            $<TARGET_OBJECTS:stats_obj>
            $<TARGET_OBJECTS:kvstore_storage_utils_obj>
        LIBRARIES
            ${ROCKSDB_LIBRARIES}
            ${THRIFT_LIBRARIES}
            wangle
            gtest
    )
endif()

install(
    TARGETS
        simple_kv_verify
    DESTINATION
        bin
    COMPONENT
        tool
)

